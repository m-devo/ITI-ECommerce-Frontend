<div class="relative w-full max-w-lg bg-white rounded-2xl overflow-hidden">

  <div class="flex justify-between items-center p-6 border-b border-gray-100">
    <h2 class="text-xl font-serif font-bold text-gray-900 flex items-center gap-2">
      <mat-icon class="text-[#00BFC5]">feedback</mat-icon> Submit Complaint
    </h2>
    <button (click)="dialogRef.close()" class="text-gray-400 hover:text-red-500 transition-colors">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <form [formGroup]="complaintForm" (ngSubmit)="onSubmit()">

    <div class="p-6">
      <p class="text-gray-500 text-sm mb-6 leading-relaxed">
        We are sorry you're facing an issue. Please describe the problem in detail, and our support team will review it shortly.
      </p>

      <div class="relative">
        <label for="details" class="block text-xs font-bold uppercase text-gray-400 tracking-wider mb-2">
          Description
        </label>

        <textarea id="details" formControlName="details" rows="5"
                  placeholder="Type your complaint here..."
                  class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl text-gray-700 focus:outline-none focus:bg-white focus:border-[#00BFC5] focus:ring-4 focus:ring-[#00BFC5]/10 transition-all resize-none">
        </textarea>

        @if (complaintForm.get('details')?.touched && complaintForm.get('details')?.invalid) {
          <div class="flex items-center gap-1 text-red-500 text-xs mt-2 animate-bounce">
            <mat-icon class="!w-4 !h-4 text-[16px]">error</mat-icon>
            <span>Please enter at least 10 characters describing the issue.</span>
          </div>
        }
      </div>
    </div>

    <div class="px-6 py-4 bg-gray-50 flex justify-end gap-3 border-t border-gray-100">
      <button type="button" (click)="dialogRef.close()"
              class="px-5 py-2.5 text-gray-600 font-medium hover:bg-gray-200 rounded-lg transition-colors text-sm">
        Cancel
      </button>

      <button type="submit" [disabled]="complaintForm.invalid"
              class="px-6 py-2.5 bg-[#00BFC5] text-white font-bold rounded-lg shadow-md hover:bg-[#009AA0] hover:shadow-lg disabled:bg-gray-300 disabled:shadow-none disabled:cursor-not-allowed transition-all duration-300 text-sm flex items-center gap-2">
        <span>Submit</span>
        <mat-icon class="!w-4 !h-4 text-[16px]">send</mat-icon>
      </button>
    </div>

  </form>
</div>
