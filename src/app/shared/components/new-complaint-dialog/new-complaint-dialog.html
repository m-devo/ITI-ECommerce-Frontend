<div class="p-6 bg-white rounded-lg shadow-xl">

  <div class="flex justify-between items-center mb-4">
    <h2 class="text-xl font-bold text-gray-800" mat-dialog-title>Submit New Complaint</h2>
    <button (click)="dialogRef.close()" aria-label="Close dialog"
            class="text-gray-400 hover:text-gray-600 transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
      </svg>
    </button>
  </div>

  <form [formGroup]="complaintForm" (ngSubmit)="onSubmit()">

    <div mat-dialog-content>
      <p class="text-gray-600 mb-5">Please provide details about your issue. We'll get back to you as soon as possible.</p>

      <div>
        <label for="details" class="block text-sm font-medium text-gray-700 sr-only">Complaint Details</label>
        <textarea id="details" formControlName="details" rows="5"
                  placeholder="Describe your issue..."
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 sm:text-sm">
        </textarea>

        @if (complaintForm.get('details')?.touched && complaintForm.get('details')?.hasError('required')) {
          <p class="mt-1 text-sm text-red-600">Details are required.</p>
        }
        @if (complaintForm.get('details')?.touched && complaintForm.get('details')?.hasError('minlength')) {
          <p class="mt-1 text-sm text-red-600">Please enter at least 10 characters.</p>
        }
      </div>
    </div>

    <div class="mt-6 flex justify-end space-x-3" mat-dialog-actions>
      <button type="button" (click)="dialogRef.close()"
              class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500">
        Cancel
      </button>
      <button type="submit" [disabled]="complaintForm.invalid"
              class="px-4 py-2 text-sm font-medium text-white bg-cyan-600 border border-transparent
              rounded-md shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500
                     disabled:opacity-50 disabled:cursor-not-allowed">
        Submit Complaint
      </button>
    </div>
  </form>
</div>
